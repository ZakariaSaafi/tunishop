<!-- Impportation des icones-->
<link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>

<!--liste des commandes-->

<div class="details">
    <div class="recentOrders">
        <div class="cardHeader">
            <h2>Mes produits</h2>
        </div>
        
        <div class="alert alert-secondary" *ngIf="produit.length ==0" role="alert" style="height: 50px;">
            Votre liste de produits est vide
          </div>
        
        <table>
            <thead>
                <tr>
                    <td>Nom</td>
                    <td>Prix</td>
                    <td>Quantités restantes</td>
                    <td>Date d'ajout</td>
                    <td>Catégorie</td>
                    <td>Statut</td>
                    <td style="text-align: center;">Action</td>
                </tr>
            </thead>
            <tbody *ngFor="let p of produit">
                <tr>
                    <td>{{p.nom}}</td>
                    <td>{{p.prix}} TND</td>
                    <td *ngIf="p.vendu">0</td>
                    <td *ngIf="!p.vendu">{{p.quantite}}</td>
                    <td>{{p.dateAjout | date:'shortDate'}}</td>
                    <td *ngFor="let c of p.categories">{{c.nom}}</td>
                    <td *ngIf="p.vendu && !p.surCommande"><span class="status delivered ">Repture de quantité</span></td> 
                    <td *ngIf="!p.vendu && !p.surCommande"><span class="status return ">Disponible</span></td> 
                    <td *ngIf="p.surCommande"><span class="status pending ">Sur commande</span></td> 
                    <td *ngIf="!p.surCommande && !p.vendu" class="text-center" style="position: relative;justify-content: space-between;align-items: center;border: none;">
                        <button class="btn btn-danger btn-xs" (click)="deleteProduit(p.code)" style="background-color: red; " ><i class="fa fa-xmark"></i> Supprimer</button>
                        <button class="btn btn-danger btn-xs" style="background-color: green;" ><i class="fa fa-rotate"></i> Modifier</button>
                    </td>
                    <td *ngIf="p.surCommande || p.vendu" class="text-center">Pas d'action</td>
                </tr>
                <!--tr>
                    <td>Manette PS4</td>
                    <td>120 TND</td>
                    <td>Paid</td>
                    <td><span class="status pending ">Pending</span></td> 
                </tr>
                <tr>
                    <td>Motos</td>
                    <td>3500 TND</td>
                    <td>Paid</td>
                    <td><span class="status return ">Return</span></td> 
                </tr-->
            </tbody>
        </table>
    </div>
</div>