<app-header-user *ngIf="service.loggedAcheteur"></app-header-user>  
<app-notfound *ngIf="!service.loggedAcheteur"></app-notfound>
<div *ngIf="service.loggedAcheteur">
<br>
<br>
<br>
<section class="page-header">
    <div class="overly"></div> 	
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-6">
          <div class="content text-center">
            <h1 class="mb-3">Commandes</h1>
            <p>Vous pouvez consulter vos commandes</p>
  
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb bg-transparent justify-content-center">
              <li class="breadcrumb-item"><a routerLink="/">Accueil</a></li>
              <li class="breadcrumb-item active" aria-current="page">Commandes</li>
            </ol>
          </nav>
          </div>
        </div>
      </div>
    </div>
  </section>
  <br>
  

  
  <section class="user-dashboard page-wrapper">
    <div class="container">
      <div class="row">
        <div class="col-12 col-md-5 col-sm-12 col-lg-3">
          <div class="nav flex-column nav-pills" style="vertical-align: middle;position: relative; box-sizing: border-box;">
            <span class="badge badge-pill badge-danger notify" *ngIf="loadingData">{{commande.length}}</span>
            <a class="nav-link" routerLink="/order">Commandes</a>
          </div>
          <div class="nav flex-column nav-pills">
            <a class="nav-link" routerLink="/address" >Adresse</a>
          </div>
          <div class="nav flex-column nav-pills">
            <a class="nav-link" routerLink="/profil-info" >Compte</a>
          </div>
          <div class="nav flex-column nav-pills">
            <a class="nav-link" routerLink="" (click)="logout()">Déconnexion</a>
          </div>
        </div>
       
  
        <div class="alert alert-secondary" *ngIf="!loadingData" role="alert" style="height: 50px; width: 24.5%;">
          Votre liste de commande est vide
        </div>
        <div class="col-12 col-md-7 col-sm-12 col-lg-9">
          <table class="table table-bordered" style="width: 120%;" *ngIf="loadingData">
            <thead>
              <tr>
                <th scope="col">Matricule</th>
                <th scope="col">Date de création</th>
                <th scope="col">Statut</th>
                <th scope="col">Devis</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody *ngFor="let c of commande">
              <tr>
                <th scope="row">#{{c.matricule}}</th>
                <td>{{c.date | date:'shortDate'}}</td>
                <th scope="row">{{c.statut}}</th>
                <td>{{c.devis}} TND</td>
                <td style="position: relative;display: flex;justify-content: center;align-items: center;border: none;">
                  <a *ngIf="c.statut==='Payé'" [routerLink]="['/order']" (click)="facture(c)" class="btn btn-dark btn-small" style="background: #3167eb;"><i class="fa fa-file-pdf"></i><br>Aperçu facture</a>
                  <a *ngIf="c.statut!=='Payé'" [routerLink]="['/checkout',c.code_commande]" class="btn btn-dark btn-small" style="background: green;"><i class="fa fa-credit-card"></i><br>Payer</a>
                  <a *ngIf="c.statut!=='Payé'" href="#" class="btn btn-dark btn-small" style="background: red;"><i class="fa fa-ban"></i><br>Annuler</a>
                </td>
              </tr>
            </tbody> 
          </table> 
        </div> 
      </div> 
    </div>
 </section>
 <br>
 <br>
 <br>
</div>