<app-header-user *ngIf="service.loggedAcheteur"></app-header-user>  

<div  *ngIf="service.isLogged">
    
    <!-- ========================= SECTION PAGETOP ========================= -->
    <section class="section-pagetop bg">
    <div class="container">
        <h2 class="title-page">Shopping cart</h2>
    </div> <!-- container //  -->
    </section>
    <!-- ========================= SECTION INTRO END// ========================= -->
    
    <!-- ========================= SECTION CONTENT ========================= -->
    
    
    <section class="section-content padding-y">
        <div class="container">
            
            <div class="alert alert-secondary" *ngIf="!loadingData" role="alert" style="height: 50px; width: 24.5%;">
                Votre panier est vide
            </div>
    <div class="row">
        <main class="col-md-9">
    <div class="card">
    <table class="table table-borderless table-shopping-cart" *ngIf="loadingData">
    <thead class="text-muted">
    <tr class="small text-uppercase">
      <th scope="col">Produit</th>
      <th scope="col" width="120">Quantité</th>
      <th scope="col" width="120">Prix</th>
      <th scope="col" class="text-right" width="200"> </th>
    </tr>
    </thead>
    <tbody *ngFor="let p of panier.produits">
    <tr>
        <td>
            <figure class="itemside">
                <div class="aside"><img src="data:image/jpeg;base64,{{p.image}}" class="img-sm" alt="produit_img"></div>
                <figcaption class="info">
                    <a  [routerLink]="['/produit',p.code]" class="title text-dark">{{p.nom}}</a>
                    <p class="text-muted small">{{p.description}}</p>
                </figcaption>
            </figure>
        </td>
        <td> 
            <div class="input-group mb-3">
                <input type="number" class="form-control" placeholder="1" min="1" max="{{p.quantite}}">
            </div> 
        </td>
        <td> 
            <div class="price-wrap"> 
                <var class="price">{{p.prix}} TND</var> 
            </div> <!-- price-wrap .// -->
        </td>
        <td class="text-right"> 
        <a data-original-title="Save to Wishlist" title="" href="" class="btn btn-light mr-2" data-toggle="tooltip"> <i class="fa fa-heart"></i></a> 
        <a href="" class="btn btn-light"> Supprimer</a>
        </td>
    </tr>
    </tbody>
    </table>
    
    <div class="card-body border-top">
        <a *ngIf="panier" routerLink='/panier' class="btn btn-primary float-md-right" (click)="passerCommande()" > Passer une commande <i class="fa fa-chevron-right"></i> </a>
        <a routerLink='' class="btn btn-light"> <i class="fa fa-chevron-left"></i> Retour à l'accueil </a>
    </div>	
    </div> <!-- card.// -->
    
    <div class="alert alert-success mt-3">
        <p class="icontext"><i class="icon text-success fa fa-truck"></i> Livraison à domicile</p>
    </div>
    
        </main> <!-- col.// -->
        <aside class="col-md-3">
            <div class="card">
                <div class="card-body">
                        <dl class="dlist-align">
                          <dt>Total:</dt>
                          <dd class="text-right  h6"><strong>{{panier.prixTotal}} TND</strong></dd>
                        </dl>
                        <hr>
                        <p class="text-center mb-3">
                            <img src="assets/images/misc/payments.png" height="26">
                        </p>
                        
                </div> <!-- card-body.// -->
            </div>  <!-- card .// -->
        </aside> <!-- col.// -->
    </div>
    
    </div> <!-- container .//  -->
    </section>
    <!-- ========================= SECTION CONTENT END// ========================= -->
    

    
</div>